<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Klassekartgeneratoren</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <div id="notification"></div>
  <div class="container">
    <!-- Venstre panel -->
    <div class="left-panel">
      <div class="canvas-container">
        <canvas id="gridCanvas"></canvas>
      </div>
      <div class="canvas-controls">
        <div class="slider-container">
          <label for="cellSizeSlider">Zoom: <span id="cellSizeValue">40</span>px</label>
          <input type="range" id="cellSizeSlider" min="30" max="100" value="40" oninput="updateCellSize(this.value)">
        </div>
        <div class="export-buttons">
          <button onclick="exportImage()">Eksporter bilde</button>
          <button onclick="copyImage()">Kopier bilde til utklippstavlen</button>
        </div>
      </div>
    </div>
    <!-- Høyre panel -->
    <div class="controls">
      <div class="save-section">
        <div class="dropdown">
          <select id="savedClasses" onchange="handleClassChange(this.value)">
            <!-- Lagrede klasser fylles inn dynamisk -->
          </select>
        </div>
        <button onclick="createNewClass()">Opprett ny klasse</button>
        <button onclick="saveClass()">Lagre klasse</button>
        <button onclick="deleteClass()">Slett klasse</button>
      </div>
      <textarea id="studentList" placeholder="Skriv inn elevnavn (ett per linje)"></textarea>
      <button onclick="assignStudents()">Plasser elever tilfeldig</button>
      <div id="assignmentWarning">⚠️ Ikke alle elever har blitt tildelt plass!</div>
      <!-- Fargevelger med sirkler -->
      <div class="color-picker" style="background-color:#fff; border: 1px solid #ccc; padding: 10px; border-radius: 4px;">
        <p>Velg farge på elementene:</p>
        <button class="color-button" onclick="setElementColor('#FF0000')" style="background-color:#FF0000;"></button>
        <button class="color-button" onclick="setElementColor('#FF8700')" style="background-color:#FF8700;"></button>
        <button class="color-button" onclick="setElementColor('#FFD300')" style="background-color:#FFD300;"></button>
        <button class="color-button" onclick="setElementColor('#DEFF0A')" style="background-color:#DEFF0A;"></button>
        <button class="color-button" onclick="setElementColor('#A1FF0A')" style="background-color:#A1FF0A;"></button>
        <button class="color-button" onclick="setElementColor('#0AFF99')" style="background-color:#0AFF99;"></button>
        <button class="color-button" onclick="setElementColor('#0AEFFF')" style="background-color:#0AEFFF;"></button>
        <button class="color-button" onclick="setElementColor('#147DF5')" style="background-color:#147DF5;"></button>
        <button class="color-button" onclick="setElementColor('#580AFF')" style="background-color:#580AFF;"></button>
        <button class="color-button" onclick="setElementColor('#BE0AFF')" style="background-color:#BE0AFF;"></button>
      </div>
      <!-- Sparkle it up -->
      <button onclick="sparkleItUp()">Sparkle it up</button>
    </div>
  </div>
  
  <!-- Standard kontekstmeny -->
  <div id="contextMenu">
    <ul>
      <li data-type="desk">Elevpult</li>
      <li data-type="merkelapp">Merkelapp</li>
      <li data-type="roundtable">Rundbord</li>
    </ul>
  </div>
  
  <!-- Ny undermeny for rundbord – vises når brukeren velger rundbord -->
  <div id="roundtableSubMenu" style="display: none; position: absolute; z-index: 1000; background: white; border: 1px solid #ccc; padding: 5px;">
    <ul>
      <li data-seats="2">2 seter</li>
      <li data-seats="4">4 seter</li>
      <li data-seats="6">6 seter</li>
      <li data-seats="8">8 seter</li>
    </ul>
  </div>
  
  <!-- Kontekstmeny for pultegrupper -->
  <div id="groupContextMenu">
    <ul>
      <li data-color="#FF0000"><div class="group-color" style="background-color:#FF0000;"></div></li>
      <li data-color="#FF8700"><div class="group-color" style="background-color:#FF8700;"></div></li>
      <li data-color="#FFD300"><div class="group-color" style="background-color:#FFD300;"></div></li>
      <li data-color="#DEFF0A"><div class="group-color" style="background-color:#DEFF0A;"></div></li>
      <li data-color="#A1FF0A"><div class="group-color" style="background-color:#A1FF0A;"></div></li>
      <li data-color="#0AFF99"><div class="group-color" style="background-color:#0AFF99;"></div></li>
      <li data-color="#0AEFFF"><div class="group-color" style="background-color:#0AEFFF;"></div></li>
      <li data-color="#147DF5"><div class="group-color" style="background-color:#147DF5;"></div></li>
      <li data-color="#580AFF"><div class="group-color" style="background-color:#580AFF;"></div></li>
      <li data-color="#BE0AFF"><div class="group-color" style="background-color:#BE0AFF;"></div></li>
    </ul>
  </div>
  
  <!-- Footer -->
  <footer>
    <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=aGOmpZ7U9UuvmmzL9I5mVceXQMPD5fJPqjsSqoKvCKVUMlJGVU9ZV1lKMDVKWUswVEMzRjFWQTdLVC4u" target="_blank">Send anonym feedback her. Det verdsettes.</a>
  </footer>
  
  <script src="script.js"></script>
</body>
</html>
